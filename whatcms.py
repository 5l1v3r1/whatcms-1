#-*- coding: UTF-8 -*- 
import urllib2
import requests
import re


print "+"*120

print('''                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          
               #$                                                                                                       
              #. $                                                                                                      
             #.-- #                                                                                                     
            # ---- #                                                                                                    
           #,~-~-~~ #                   --,                                @@          ,-,                              
          #,~~~:~~~: #               @@@@@@@@                              @@       =@@@@@@@                            
         #,:::   .::: #            :@@@@@@@@@                              @@      @@@@@@@@@                            
        $,;:~      ::: #          ~@@@.                                    @@     @@@!                     -@@          
       #~!;;        ;;; #         @@@                                      @@    @@@.                      ,@@          
      @~!*!!        ;;!! #       $@@               -*~           :!.       @@    @@=             -!:       ,@@          
     #:***!~-*;  :*-:!!!! #      @@@             @@@@@@@       @@@@@@!     @@   @@@            @@@@@@@    @@@@@@@       
    #~*****;!**  *=;*==$$$ #     @@#            #@@$-$@@@     @@@!~@@@=    @@   @@@            @#~.=@@@   ##@@$$#       
   #:===*=*=.=;*;!#.$===$$$.#   .@@,           *@@,   .@@#   @@@    @@@    @@   @@@                 ,@@    ,@@          
   ,:#======...#@...===$$#$$    ,@@            @@@     @@@  .@@.     @@#   @@   @@@                  @@~   ,@@          
     ;@$$#$$:,,...-~$==$$$$     .@@.           @@!     ;@@  =@@      @@@   @@   @@@               @@@@@*   ,@@          
     .;####$##:,~;##$$$#=$       @@#           @@      .@@  @@@      @@@   @@   @@@            ;@@@@@@@*   ,@@          
      ,;##$$@-~##,,####=$        @@@           @@      .@@  @@@      @@@   @@   @@@           :@@*   @@*   ,@@          
       .!@#$@,,::,,#$#$$         @@@           @@=     !@@  =@@      @@@   @@   ~@@=          @@#    @@*   ,@@          
         *####,,,,#$#=#           @@@          @@@     @@@  .@@:     @@*   @@    @@@.         @@-    @@*   ,@@          
          !###$###$#*$            $@@@-     .  !@@!   ;@@:   @@@    @@@    @@    ,@@@*     .  @@#   =@@*    @@~         
          .!##$###$*$              #@@@@@@@@@   @@@@=@@@@     @@@#$@@@,    @@     ~@@@@@@@@@  @@@@*@@@@=    @@@@@       
            *#$$##*$                 @@@@@@@@    $@@@@@*       @@@@@@      @@       @@@@@@@@   @@@@@ @@$    -@@@@       
             =#$$*#                                                                                                     
              *$;#                                                                             CMS识别 V1.0                                         
               *$                                                                                                       
                                                                                                                                                         
            ''')
print "+"*120
url=raw_input('请输入需要识别的站点: ')
print '正在识别中...'



# 设置传入post表单信息
data= {
    'url':url
}
# 设置请求头信息
headers = {
    "User-Agent": "Mozilla/5.0 (Windows NT 6.1; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/57.0.2987.133 Safari/537.36"
    
}
response = requests.post('http://whatweb.bugscaner.com/what/', data=data, headers=headers)

response.encoding = 'utf-8' #这一行是将编码转为utf-8否则中文会显示乱码。

cms = re.findall('"cms": "(.*?)",',response.text,re.S)
for cat in cms:
    print('\033[1;31;40m')
    print(' 识别结果：'+ str(cat))
    

md5 = re.findall('"md5": "(.*?)",',response.text,re.S)

for md5fuck in md5:
    print('\033[1;31;40m')
    print(' 标识码为：'+ str(md5fuck))
    print('\033[0m')




